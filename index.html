<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jaegar Resto</title>

  <!-- Import Vue 3 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>

  <!-- Import TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Import Google Material Icons -->
  <link
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet"
  />

  <!-- (Optional) AOS Library CSS -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .scrollbar {
      scrollbar-width: thin;
      scrollbar-color: #4B5563 #1F2937;
    }
    .scrollbar::-webkit-scrollbar {
      width: 6px;
    }
    .scrollbar::-webkit-scrollbar-thumb {
      background-color: #4B5563;
      border-radius: 6px;
    }
    .scrollbar::-webkit-scrollbar-track {
      background-color: #1F2937;
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100">
  <div id="app" class="h-screen flex overflow-hidden">
    <!-- SIDEBAR -->
    <aside
      :class="[
        'bg-gray-800',
        'transition-all',
        'duration-300',
        'flex',
        'flex-col',
        'p-4',
        'relative',
        // Dacă e deschis, lărgim sidebar-ul (w-64), altfel w-20
        isSidebarOpen ? 'w-64' : 'w-20'
      ]"
    >
      <!-- Buton pentru toggl Sidebar (vizibil doar pe ecrane mai mari) -->
      <button
        class="hidden lg:block text-white mb-4"
        @click="toggleSidebar"
      >
        <span class="material-icons" v-if="!isSidebarOpen">menu_open</span>
        <span class="material-icons" v-else>menu</span>
      </button>

      <!-- Logo / Titlu -->
      <div
        :class="[
          'text-2xl',
          'font-bold',
          'text-center',
          'mb-6',
          'truncate',
          // Ascundem textul dacă e sidebar mic
          isSidebarOpen ? 'opacity-100' : 'opacity-0'
        ]"
      >
        Jaegar Resto
      </div>

      <!-- Meniul din Sidebar -->
      <nav class="flex flex-col space-y-2">
        <a
          href="#"
          class="flex items-center gap-3 px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600"
        >
          <span class="material-icons">home</span>
          <!-- Afișează textul numai dacă sidebar-ul e deschis -->
          <span v-if="isSidebarOpen">Dashboard</span>
        </a>
        <a
          href="#"
          class="flex items-center gap-3 px-4 py-2 hover:bg-gray-600 rounded-md"
        >
          <span class="material-icons">menu</span>
          <span v-if="isSidebarOpen">Menu</span>
        </a>
        <a
          href="#"
          class="flex items-center gap-3 px-4 py-2 hover:bg-gray-600 rounded-md"
        >
          <span class="material-icons">settings</span>
          <span v-if="isSidebarOpen">Settings</span>
        </a>
      </nav>
    </aside>

    <!-- CONȚINUT PRINCIPAL + ORDERS -->
    <div
      class="flex-1 flex flex-col"
      :class="[
        'transition-all',
        'duration-300',
        // Dacă sidebar-ul e deschis, împingem puțin conținutul, altfel îl lăsăm full
        isSidebarOpen ? 'ml-0 lg:ml-64' : 'ml-0 lg:ml-20'
      ]"
    >
      <!-- HEADER -->
      <header class="flex justify-between items-center p-4 bg-gray-900 border-b border-gray-800">
        <!-- Buton hamburger pentru mobile -->
        <button
          @click="toggleSidebar"
          class="lg:hidden bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-md mr-4"
        >
          <span class="material-icons" v-if="!isSidebarOpen">menu_open</span>
          <span class="material-icons" v-else>menu</span>
        </button>
        <h1 class="text-2xl font-bold">Tuesday, Feb 2021</h1>
        <div class="flex items-center gap-4">
          <input
            type="text"
            placeholder="Search for food, coffee, etc..."
            class="hidden md:block bg-gray-800 text-gray-200 rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-orange-500"
          />
          <span class="material-icons bg-gray-800 p-2 rounded-full cursor-pointer">
            account_circle
          </span>
        </div>
      </header>

      <!-- SECȚIUNEA DE PAGINĂ: conținut cu produsele -->
      <div class="flex-1 flex overflow-hidden">
        <!-- STÂNGA: Produsele / Meniurile -->
        <main class="flex-1 p-4 overflow-y-auto scrollbar">
          <!-- Bara de navigare internă (tip: Meniu, Data, Categorie) -->
          <div class="flex items-center justify-between mb-4">
            <div>
              <h2 class="text-sm text-gray-400">Jaegar Resto</h2>
              <h1 class="text-3xl font-bold">Menu</h1>
            </div>
            <!-- Filtru / Sortare, etc. -->
            <div>
              <select
                class="bg-gray-800 text-gray-200 p-2 rounded focus:ring-2 focus:ring-orange-500"
                v-model="view"
              >
                <option value="categories">Categories</option>
                <option value="products">Products</option>
              </select>
            </div>
          </div>

          <!-- CATEGORIES -->
          <section v-if="view === 'categories'">
            <h2 class="text-xl font-semibold mb-4">Choose Categories</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
              <div
                v-for="category in categories"
                :key="category.name"
                class="bg-gray-800 rounded-lg shadow-lg overflow-hidden cursor-pointer hover:bg-gray-700 transition-all"
                @click="loadProducts(category.name)"
              >
                <img
                  :src="category.image"
                  :alt="category.name"
                  class="w-full h-40 object-cover"
                />
                <div class="p-4">
                  <h3 class="text-lg font-bold capitalize">
                    {{ category.name }}
                  </h3>
                </div>
              </div>
            </div>
          </section>

          <!-- PRODUCTS -->
          <section v-else-if="view === 'products'">
            <button
              @click="backToCategories"
              class="mb-4 bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-400"
            >
              Back to Categories
            </button>
            <h2 class="text-xl font-semibold mb-4">Products</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
              <div
                v-for="product in currentProducts"
                :key="product.title"
                class="bg-gray-800 rounded-lg shadow-lg overflow-hidden cursor-pointer hover:bg-gray-700 transition-all"
                @click="showProductDetails(product)"
              >
                <img
                  :src="product.image"
                  :alt="product.title"
                  class="w-full h-40 object-cover"
                />
                <div class="p-4">
                  <h3 class="text-lg font-bold">
                    {{ product.title }}
                  </h3>
                  <p class="text-orange-500 font-bold">
                    {{ product.price }}
                  </p>
                </div>
              </div>
            </div>
          </section>

          <!-- Product Details Modal -->
          <div
            v-if="currentProduct"
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
          >
            <div
              class="bg-gray-800 rounded-lg shadow-lg p-6 w-11/12 md:w-3/4 lg:w-1/2 relative"
            >
              <button
                class="absolute top-4 right-4 text-gray-500 text-2xl"
                @click="currentProduct = null"
              >
                &times;
              </button>
              <img
                :src="currentProduct.image"
                :alt="currentProduct.title"
                class="w-full h-64 object-cover mb-4 rounded-lg"
              />
              <h2 class="text-xl font-bold mb-2">
                {{ currentProduct.title }}
              </h2>
              <p class="text-orange-500 font-bold text-lg mb-4">
                {{ currentProduct.price }}
              </p>
              <p class="text-gray-400 mb-4">
                {{ currentProduct.description }}
              </p>
              <ul class="text-gray-300 mb-4">
                <li
                  v-for="ingredient in currentProduct.ingredients"
                  :key="ingredient"
                  class="list-disc ml-5"
                >
                  {{ ingredient }}
                </li>
              </ul>
              <button
                class="bg-orange-500 hover:bg-orange-400 text-white py-2 px-4 rounded-lg"
                @click="addToOrder(currentProduct)"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </main>

        <!-- ORDERS (partea dreaptă) -->
        <aside class="w-full md:w-96 bg-gray-800 border-l border-gray-700 p-4 overflow-y-auto scrollbar">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-bold">Orders #{{ orderNumber }}</h3>
            <button
              class="bg-orange-500 hover:bg-orange-400 text-white py-1 px-3 rounded"
              @click="clearOrders"
            >
              Clear
            </button>
          </div>
          <div class="space-y-4">
            <div
              v-for="(order, index) in orders"
              :key="index"
              class="flex justify-between items-center bg-gray-700 p-2 rounded shadow"
            >
              <div class="flex flex-col">
                <span class="font-bold text-white">
                  {{ order.name }}
                </span>
                <small class="text-gray-300">
                  x{{ order.quantity }}
                </small>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-orange-400 font-bold">
                  {{ order.price }}
                </span>
                <button
                  class="text-red-500 hover:text-red-300"
                  @click="removeFromOrder(index)"
                >
                  <span class="material-icons">delete</span>
                </button>
              </div>
            </div>
          </div>
          <!-- TOTAL & Payment -->
          <div class="border-t border-gray-600 mt-4 pt-4">
            <div class="flex justify-between mb-2">
              <span class="text-gray-300">Total:</span>
              <span class="text-orange-400 text-lg font-bold">
                {{ total }} Lei
              </span>
            </div>
            <button
              class="bg-orange-500 hover:bg-orange-400 text-white w-full py-3 rounded-lg mt-2"
              @click="checkout"
            >
              Continue to Payment
            </button>
          </div>
        </aside>
      </div>
    </div>

    <!-- (Optional) AOS Library JS -->
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
      // Dacă vrei să folosești AOS, decomentează
      // AOS.init();

      const app = Vue.createApp({
        data() {
          return {
            // LOGICĂ SIDEBAR
            isSidebarOpen: false,
            // PAGINARE
            view: 'categories',
            // Preluăm categoriile și imaginile din codul vechi
            categories: [
              {
                name: 'brunch',
                image: 'https://i.giphy.com/9qZEmFR8fs7CrCgy4T.webp',
              },
              {
                name: 'soups',
                image:
                  'https://bistropoint.ro/wp-content/uploads/2021/12/Ciorba-de-Burta-380gr.jpg',
              },
              {
                name: 'pasta',
                image: 'https://i.giphy.com/dZRlFW1sbFEpG.webp',
              },
              {
                name: 'main',
                image: 'https://i.giphy.com/NRS40PZGqScW4Tm2F5.webp',
              },
              {
                name: 'desserts',
                image: 'https://i.giphy.com/L2mf2cMkd2m7BJCjX7.webp',
              },
            ],
            // PRODUSE extrase din codul vechi
            products: {
              brunch: [
                {
                  title: 'Avocado Toast',
                  description: 'Avocado, toast, ouă poșate, roșii cherry.',
                  price: '25 Lei',
                  image: 'https://i.giphy.com/9qZEmFR8fs7CrCgy4T.webp',
                  ingredients: ['Avocado', 'Toast', 'Ouă', 'Roșii cherry'],
                },
                {
                  title: 'Eggs Benedict',
                  description: 'Ouă poșate, sos hollandaise, șuncă.',
                  price: '30 Lei',
                  image: 'https://i.giphy.com/X3E37CTy55jNK.webp',
                  ingredients: ['Ouă', 'Hollandaise', 'Șuncă'],
                },
                {
                  title: 'Pancakes',
                  description: 'Clătite, sirop de arțar, fructe proaspete.',
                  price: '20 Lei',
                  image: 'https://i.giphy.com/5zu5JovduWFBS.webp',
                  ingredients: ['Făină', 'Ouă', 'Sirop', 'Fructe'],
                },
              ],
              soups: [
                {
                  title: 'Ciorbă de burtă',
                  description: 'Tradițională, smântână, ardei iute.',
                  price: '18 Lei',
                  image:
                    'https://bistropoint.ro/wp-content/uploads/2021/12/Ciorba-de-Burta-380gr.jpg',
                  ingredients: ['Burtă', 'Smântână', 'Ardei iute'],
                },
                {
                  title: 'Supă cremă de roșii',
                  description: 'Roșii proaspete, crutoane, busuioc.',
                  price: '15 Lei',
                  image:
                    'https://www.lalena.ro/images/uploaded/600x_Supa-crema-de-rosii-108.jpg',
                  ingredients: ['Roșii', 'Crutoane', 'Busuioc'],
                },
                {
                  title: 'Ciorbă de legume',
                  description: 'Legume proaspete, zeamă de lămâie.',
                  price: '12 Lei',
                  image:
                    'https://www.prestij.ro/uploads/produse/1440/94--ciorba-taraneasca-de-legume.jpg',
                  ingredients: ['Morcovi', 'Cartofi', 'Ceapă', 'Apio'],
                },
              ],
              pasta: [
                {
                  title: 'Spaghetti Carbonara',
                  description: 'Spaghetti, bacon, parmezan, ouă.',
                  price: '28 Lei',
                  image: 'https://i.giphy.com/dZRlFW1sbFEpG.webp',
                  ingredients: ['Spaghetti', 'Bacon', 'Parmezan', 'Ouă'],
                },
                {
                  title: 'Penne Arrabbiata',
                  description: 'Penne, sos de roșii picant, usturoi.',
                  price: '25 Lei',
                  image: 'https://i.giphy.com/f0N7csaAc6t60OmXkm.webp',
                  ingredients: ['Penne', 'Roșii', 'Usturoi', 'Ardei iute'],
                },
                {
                  title: 'Tagliatelle Alfredo',
                  description: 'Tagliatelle, sos Alfredo, pui.',
                  price: '30 Lei',
                  image: 'https://i.giphy.com/xOML6s8aBmAtlLwujM.webp',
                  ingredients: ['Tagliatelle', 'Pui', 'Parmezan', 'Smântână'],
                },
              ],
              main: [
                {
                  title: 'Muschiuleț de porc',
                  description: 'Muschiuleț, cartofi copți, mozzarella, bacon.',
                  price: '45 Lei',
                  image: 'https://i.giphy.com/NRS40PZGqScW4Tm2F5.webp',
                  ingredients: ['Porc', 'Cartofi', 'Mozzarella', 'Bacon'],
                },
                {
                  title: 'Tomahawk porc',
                  description: 'Carne de porc, cartofi, sos brun.',
                  price: '41 Lei',
                  image: 'https://i.giphy.com/KDskfOILt91T2.webp',
                  ingredients: ['Tomahawk', 'Cartofi', 'Sos brun'],
                },
                {
                  title: 'Ceafă sfărâmată',
                  description: 'Ceafă, piure de cartofi, ardei copți.',
                  price: '36 Lei',
                  image: 'https://i.giphy.com/l378puWI9Fpi4OApO.webp',
                  ingredients: ['Ceafă porc', 'Piure', 'Ardei copți'],
                },
              ],
              desserts: [
                {
                  title: 'Tiramisu',
                  description: 'Prăjitură italiană cu cafea, mascarpone.',
                  price: '20 Lei',
                  image: 'https://i.giphy.com/L2mf2cMkd2m7BJCjX7.webp',
                  ingredients: ['Cafea', 'Mascarpone', 'Pișcoturi'],
                },
                {
                  title: 'Pavlova',
                  description: 'Bezea, frișcă, fructe de pădure.',
                  price: '18 Lei',
                  image: 'https://i.giphy.com/iiwu9bTOZ1HiM.webp',
                  ingredients: ['Bezea', 'Frișcă', 'Fructe de pădure'],
                },
                {
                  title: 'Cheesecake',
                  description: 'Cheesecake cu dulceață de căpșuni.',
                  price: '22 Lei',
                  image: 'https://i.giphy.com/Xi2UAW7kTQvHa.webp',
                  ingredients: ['Brânză', 'Biscuiți', 'Căpșuni'],
                },
              ],
            },
            // Date pentru stocare curentă
            currentProducts: [],
            currentProduct: null,
            orders: [],
            orderNumber: 5452,
          };
        },
        computed: {
          // Calculează totalul comenzilor (extragem doar cifra înainte de “Lei” și o convertim la float)
          total() {
            return this.orders.reduce((sum, order) => {
              const numericPrice = parseFloat(order.price);
              return sum + numericPrice * order.quantity;
            }, 0).toFixed(2);
          },
        },
        methods: {
          // Deschidem/închidem sidebar
          toggleSidebar() {
            this.isSidebarOpen = !this.isSidebarOpen;
          },
          // Încarcă produsele pentru o categorie
          loadProducts(category) {
            this.currentProducts = this.products[category] || [];
            this.view = 'products';
          },
          // Revenim la ecranul de categorii
          backToCategories() {
            this.view = 'categories';
          },
          // Arată detalii produs
          showProductDetails(product) {
            this.currentProduct = product;
          },
          // Adaugă în coș
          addToOrder(product) {
            const existing = this.orders.find(
              (ord) => ord.name === product.title
            );
            if (existing) {
              existing.quantity++;
            } else {
              this.orders.push({
                name: product.title,
                quantity: 1,
                price: product.price.replace(' Lei', ''),
              });
            }
            this.currentProduct = null; // Închidem modalul
          },
          // Șterge un item din Orders
          removeFromOrder(index) {
            this.orders.splice(index, 1);
          },
          // Golește tot coșul
          clearOrders() {
            this.orders = [];
          },
          // Finalizare
          checkout() {
            alert('Proceeding to Payment');
          },
        },
      });

      app.mount('#app');
    </script>
</body>
</html>
